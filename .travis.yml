# Until https://github.com/julia-actions/julia-uploadcodecov/issues/1 get fixed
# submit coverage report via travis
language: julia

julia: 1
os: linux
codecov: true
coveralls: true

# https://reflectoring.io/skip-ci-build/
before_install:
  - |
      if ! git diff --name-only $TRAVIS_COMMIT_RANGE | grep -qvE '(.md$)'
      then
        echo "Only docs were updated, not running the CI."
        exit
      fi

after_success:
  - julia -e 'using Pkg; Pkg.add("Coverage"); using Coverage; Coveralls.submit(process_folder())'
